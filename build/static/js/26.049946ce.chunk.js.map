{"version":3,"sources":["services/httpService.js","hooks/useAsync.js","components/common/PageTitle.js","pages/EditProfile.js","services/SettingServices.js","components/form/Error.js","components/form/LabelArea.js","services/AdminServices.js","components/form/InputArea.js","../node_modules/cloudinary/lib/utils sync","components/image-uploader/ItemTypes.js","components/image-uploader/Card.js","components/image-uploader/Container.js","components/image-uploader/Uploader.js","components/form/SelectRole.js","hooks/useStaffSubmit.js"],"names":["instance","axios","create","baseURL","timeout","headers","Accept","interceptors","request","use","config","adminInfo","company","Cookies","get","JSON","parse","authorization","token","responseBody","response","data","requests","url","body","then","post","put","patch","delete","useAsync","asyncFunction","setData","useState","error","setError","loading","setLoading","isUpdate","setIsUpdate","currentPage","category","searchText","invoice","status","zone","time","sortedField","source","limitData","startDate","endDate","useContext","SidebarContext","useEffect","unmounted","CancelToken","res","cancelToken","err","message","isCancel","cancel","PageTitle","title","description","Helmet","name","content","EditProfile","t","useTranslation","state","AdminContext","register","handleSubmit","onSubmit","errors","imageUrl","setImageUrl","useStaffSubmit","_id","className","LabelArea","label","Uploader","folder","InputArea","type","placeholder","Error","errorName","email","phone","SelectRole","role","SettingServices","addGlobalSetting","async","getGlobalSetting","updateGlobalSetting","AdminServices","registerAdmin","loginAdmin","forgetPassword","resetPassword","signUpWithProvider","addStaff","getAllStaff","getStaffById","id","updateStaff","updateStaffStatus","deleteStaff","defaultValue","required","webpackEmptyContext","req","e","code","keys","resolve","module","exports","ItemTypes","Card","image","index","moveCard","handleRemoveImage","ref","useRef","handlerId","drop","useDrop","accept","collect","monitor","getHandlerId","hover","item","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drag","useDrag","isDragging","src","alt","onClick","Container","useCallback","prevCards","update","$splice","renderCard","card","i","text","map","cloudinary","cloud_name","process","api_key","api_secret","product","files","setFiles","globalSetting","getRootProps","getInputProps","fileRejections","useDropzone","multiple","maxSize","maxFiles","number_of_image_per_product","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","path","size","notifyError","forEach","length","find","img","replaceAll","public_id","substring","lastIndexOf","formData","FormData","append","method","notifySuccess","imgUrl","secure_url","catch","console","Message","thumbs","revokeObjectURL","split","pop","v2","uploader","destroy","result","filter","DndProvider","backend","HTML5Backend","setRole","onChange","target","value","hidden","isDrawerOpen","closeDrawer","lang","selectedDate","setSelectedDate","dayjs","Date","format","language","setLanguage","resData","setResData","isSubmitting","setIsSubmitting","location","useLocation","setValue","clearErrors","formState","useForm","getStaffData","joiningData","pathname","staffData","password","joiningDate","handleSelectLanguage"],"mappings":"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","file":"static/js/26.049946ce.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `https://backend.canadasentinel.ca/api`,\r\n  timeout: 50000,\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  let adminInfo;\r\n  if (Cookies.get('adminInfo')) {\r\n    adminInfo = JSON.parse(Cookies.get('adminInfo'));\r\n  }\r\n\r\n  let company;\r\n\r\n  if (Cookies.get('company')) {\r\n    company = Cookies.get('company');\r\n  }\r\n\r\n  // console.log('Admin Http Services Cookie Read : ' + company);\r\n  // let companyName = JSON.stringify(company);\r\n\r\n  return {\r\n    ...config,\r\n    headers: {\r\n      authorization: adminInfo ? `Bearer ${adminInfo.token}` : null,\r\n      company: company ? company : null,\r\n    },\r\n  };\r\n});\r\n\r\nconst responseBody = (response) => response.data;\r\n\r\nconst requests = {\r\n  get: (url, body, headers) =>\r\n    instance.get(url, body, headers).then(responseBody),\r\n\r\n  post: (url, body) => instance.post(url, body).then(responseBody),\r\n\r\n  put: (url, body, headers) =>\r\n    instance.put(url, body, headers).then(responseBody),\r\n\r\n  patch: (url, body) => instance.patch(url, body).then(responseBody),\r\n\r\n  delete: (url, body) => instance.delete(url, body).then(responseBody),\r\n};\r\n\r\nexport default requests;\r\n","import axios from \"axios\";\r\n// import Cookies from 'js-cookie';\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { SidebarContext } from \"context/SidebarContext\";\r\n\r\nconst useAsync = (asyncFunction) => {\r\n  const [data, setData] = useState([] || {});\r\n  const [error, setError] = useState(\"\");\r\n  // const [errCode, setErrCode] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const {\r\n    isUpdate,\r\n    setIsUpdate,\r\n    currentPage,\r\n    category,\r\n    searchText,\r\n    invoice,\r\n    status,\r\n    zone,\r\n    time,\r\n    sortedField,\r\n    source,\r\n    limitData,\r\n    startDate,\r\n    endDate,\r\n  } = useContext(SidebarContext);\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    let source = axios.CancelToken.source();\r\n    (async () => {\r\n      try {\r\n        const res = await asyncFunction({ cancelToken: source.token });\r\n        if (!unmounted) {\r\n          setData(res);\r\n          setError(\"\");\r\n          setLoading(false);\r\n        }\r\n      } catch (err) {\r\n        if (!unmounted) {\r\n          setError(err.message);\r\n          if (axios.isCancel(err)) {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          } else {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          }\r\n        }\r\n      }\r\n    })();\r\n\r\n  \r\n\r\n    setIsUpdate(false);\r\n\r\n    return () => {\r\n      unmounted = true;\r\n      source.cancel(\"Cancelled in cleanup\");\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    isUpdate,\r\n    currentPage,\r\n    category,\r\n    searchText,\r\n    invoice,\r\n    status,\r\n    zone,\r\n    time,\r\n    sortedField,\r\n    source,\r\n    limitData,\r\n    startDate,\r\n    endDate,\r\n  ]);\r\n\r\n\r\n  return {\r\n    data,\r\n    error,\r\n    loading,\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst PageTitle = ({ title, description }) => {\r\n  return (\r\n    <Helmet>\r\n      <title>\r\n        {\" \"}\r\n        {title\r\n          ? ` ${title} | ecommerce : Point of Sale and E-Commerce Website all in one`\r\n          : \"ecommerce : Point of Sale and E-Commerce Website all in one\"}\r\n      </title>\r\n      <meta\r\n        name=\"description\"\r\n        content={\r\n          description\r\n            ? ` ${description} `\r\n            : \"ecommerce : Point of Sale and E-Commerce Website all in one\"\r\n        }\r\n      />\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nexport default PageTitle;\r\n","import React, { useContext } from \"react\";\r\nimport { Button } from \"@windmill/react-ui\";\r\nimport { AdminContext } from \"context/AdminContext\";\r\nimport useStaffSubmit from \"hooks/useStaffSubmit\";\r\nimport PageTitle from \"components/common/PageTitle\";\r\nimport LabelArea from \"components/form/LabelArea\";\r\nimport Uploader from \"components/image-uploader/Uploader\";\r\nimport InputArea from \"components/form/InputArea\";\r\nimport Error from \"components/form/Error\";\r\nimport SelectRole from \"components/form/SelectRole\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst EditProfile = () => {\r\n  const { t } = useTranslation();\r\n  const {\r\n    state: { adminInfo },\r\n  } = useContext(AdminContext);\r\n\r\n  const { register, handleSubmit, onSubmit, errors, imageUrl, setImageUrl } =\r\n    useStaffSubmit(adminInfo._id);\r\n\r\n  return (\r\n    <>\r\n      <PageTitle> {t(\"EditProfile\")} </PageTitle>\r\n      <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfilePicture\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <Uploader\r\n                  imageUrl={imageUrl}\r\n                  setImageUrl={setImageUrl}\r\n                  folder=\"customer\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileName\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Name\"\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  placeholder=\"Your Name\"\r\n                />\r\n                <Error errorName={errors.name} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileEmail\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  placeholder=\"Email\"\r\n                />\r\n                <Error errorName={errors.email} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileContactNumber\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Contact Number\"\r\n                  name=\"phone\"\r\n                  type=\"text\"\r\n                  placeholder=\"Contact Number\"\r\n                />\r\n                <Error errorName={errors.phone} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileYourRole\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <SelectRole register={register} label=\"Role\" name=\"role\" />\r\n                <Error errorName={errors.role} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-row-reverse pr-6 pb-6\">\r\n            <Button type=\"submit\" className=\"h-12 px-6\">\r\n              {t(\"updateProfile\")}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import requests from \"./httpService\";\r\n\r\nconst SettingServices = {\r\n  // global setting all function\r\n  addGlobalSetting: async (body) => {\r\n    return requests.post(\"/setting/global/add\", body);\r\n  },\r\n\r\n  getGlobalSetting: async () => {\r\n    return requests.get(\"/setting/global/all\");\r\n  },\r\n\r\n  updateGlobalSetting: async (body) => {\r\n    return requests.put(`/setting/global/update`, body);\r\n  },\r\n};\r\n\r\nexport default SettingServices;\r\n","import React from \"react\";\r\n\r\nconst Error = ({ errorName }) => {\r\n  return (\r\n    <>\r\n      {errorName && (\r\n        <span className=\"text-red-400 text-sm mt-2\">{errorName.message}</span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport { Label } from \"@windmill/react-ui\";\r\n\r\nconst LabelArea = ({ label }) => {\r\n  return (\r\n    <Label className=\"col-span-4 sm:col-span-2 font-medium text-sm\">\r\n      {label}\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport default LabelArea;\r\n","import requests from \"./httpService\";\r\n\r\nconst AdminServices = {\r\n  registerAdmin: async (body) => {\r\n    return requests.post(\"/signup\", body);\r\n  },\r\n\r\n  loginAdmin: async (body) => {\r\n    return requests.post(`/login`, body);\r\n  },\r\n\r\n  forgetPassword: async (body) => {\r\n    return requests.post(\"/forget-password\", body);\r\n  },\r\n\r\n  resetPassword: async (body) => {\r\n    return requests.put(\"/admin/reset-password\", body);\r\n  },\r\n\r\n  signUpWithProvider: async (body) => {\r\n    return requests.post(\"/admin/signup\", body);\r\n  },\r\n\r\n  addStaff: async (body) => {\r\n    return requests.post(\"/admin/add\", body);\r\n  },\r\n  getAllStaff: async (body) => {\r\n    return requests.get(\"/admin\", body);\r\n  },\r\n  getStaffById: async (id, body) => {\r\n    return requests.post(`/admin/${id}`, body);\r\n  },\r\n\r\n  updateStaff: async (id, body) => {\r\n    return requests.put(`/admin/${id}`, body);\r\n  },\r\n\r\n  updateStaffStatus: async (id, body) => {\r\n    return requests.put(`/admin/update-status/${id}`, body);\r\n  },\r\n\r\n  deleteStaff: async (id) => {\r\n    return requests.delete(`/admin/${id}`);\r\n  },\r\n};\r\n\r\nexport default AdminServices;\r\n","import React from \"react\";\r\nimport { Input } from \"@windmill/react-ui\";\r\n\r\nconst InputArea = ({\r\n  register,\r\n  defaultValue,\r\n  required,\r\n  name,\r\n  label,\r\n  type,\r\n  placeholder,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Input\r\n        {...register(`${name}`, {\r\n          required: required ? false : `${label} is required!`,\r\n        })}\r\n        defaultValue={defaultValue}\r\n        type={type}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InputArea;\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 644;","export const ItemTypes = {\r\n  CARD: 'card',\r\n};\r\n","import { useRef } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { FiXCircle } from \"react-icons/fi\";\r\nimport { ItemTypes } from \"./ItemTypes.js\";\r\n\r\nconst Card = ({ id, image, index, moveCard, handleRemoveImage }) => {\r\n  const ref = useRef(null);\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: ItemTypes.CARD,\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    hover(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n      // Don't replace items with themselves\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n      // Determine rectangle on screen\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      // Get vertical middle\r\n      const hoverMiddleY =\r\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      // Determine mouse position\r\n      const clientOffset = monitor.getClientOffset();\r\n      // Get pixels to the top\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n      // Only perform the move when the mouse has crossed half of the items height\r\n      // When dragging downwards, only move when the cursor is below 50%\r\n      // When dragging upwards, only move when the cursor is above 50%\r\n      // Dragging downwards\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n      // Dragging upwards\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n      // Time to actually perform the action\r\n      moveCard(dragIndex, hoverIndex);\r\n      // Note: we're mutating the monitor item here!\r\n      // Generally it's better to avoid mutations,\r\n      // but it's good here for the sake of performance\r\n      // to avoid expensive index searches.\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n  const [{}, drag] = useDrag({\r\n    type: ItemTypes.CARD,\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  drag(drop(ref));\r\n  return (\r\n    <div ref={ref} data-handler-id={handlerId}>\r\n      <div className=\"relative\">\r\n        <img\r\n          className=\"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2 m-2\"\r\n          src={image}\r\n          alt=\"product\"\r\n        />\r\n        {index === 0 && (\r\n          <p className=\"text-xs absolute py-1 w-full bottom-0 inset-x-0 bg-blue-500 rounded-full text-white text-center \">\r\n            Default Image\r\n          </p>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"absolute top-0 right-0 text-red-500 focus:outline-none\"\r\n          onClick={() => handleRemoveImage(image)}\r\n        >\r\n          <FiXCircle />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import update from \"immutability-helper\";\r\nimport { useCallback } from \"react\";\r\nimport Card from \"./Card\";\r\n\r\nconst Container = ({ setImageUrl, imageUrl, handleRemoveImage }) => {\r\n  const moveCard = useCallback(\r\n    (dragIndex, hoverIndex) => {\r\n      setImageUrl((prevCards) =>\r\n        update(prevCards, {\r\n          $splice: [\r\n            [dragIndex, 1],\r\n            [hoverIndex, 0, prevCards[dragIndex]],\r\n          ],\r\n        })\r\n      );\r\n    },\r\n    [setImageUrl]\r\n  );\r\n\r\n  const renderCard = useCallback(\r\n    (card, i) => {\r\n      return (\r\n        <Card\r\n          key={i + 1}\r\n          index={i}\r\n          id={card.id}\r\n          text={card.text}\r\n          moveCard={moveCard}\r\n          image={card}\r\n          handleRemoveImage={handleRemoveImage}\r\n        />\r\n      );\r\n    },\r\n    [moveCard, handleRemoveImage]\r\n  );\r\n  return <>{imageUrl.map((card, i) => renderCard(card, i))}</>;\r\n};\r\n\r\nexport default Container;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { t } from \"i18next\";\r\nimport axios from \"axios\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport cloudinary from \"cloudinary/lib/cloudinary\";\r\nimport { FiUploadCloud, FiXCircle } from \"react-icons/fi\";\r\n\r\n//internal import\r\nimport useAsync from \"hooks/useAsync\";\r\nimport SettingServices from \"services/SettingServices\";\r\nimport { notifyError, notifySuccess } from \"../../utils/toast\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport Container from \"./Container\";\r\n\r\ncloudinary.config({\r\n  cloud_name: process.env.REACT_APP_CLOUD_NAME,\r\n  api_key: process.env.REACT_APP_CLOUDINARY_API_KEY,\r\n  api_secret: process.env.REACT_APP_CLOUDINARY_API_SECRET,\r\n});\r\n\r\nconst Uploader = ({ setImageUrl, imageUrl, product, folder }) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setError] = useState(\"\");\r\n\r\n  const { data: globalSetting } = useAsync(SettingServices.getGlobalSetting);\r\n\r\n  // console.log(\"data\", data);\r\n\r\n  const { getRootProps, getInputProps, fileRejections } = useDropzone({\r\n    accept: \"image/*\",\r\n    multiple: product ? true : false,\r\n    maxSize: 500000,\r\n    maxFiles: globalSetting?.number_of_image_per_product || 2,\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (fileRejections) {\r\n      fileRejections.map(({ file, errors }) => (\r\n        <li key={file.path}>\r\n          {file.path} - {file.size} bytes\r\n          <ul>\r\n            {errors.map((e) => (\r\n              <li key={e.code}>\r\n                {e.code === \"too-many-files\"\r\n                  ? notifyError(\r\n                      `Maximum ${globalSetting?.number_of_image_per_product} Image Can be Upload!`\r\n                    )\r\n                  : notifyError(e.message)}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </li>\r\n      ));\r\n    }\r\n\r\n    if (files) {\r\n      files.forEach((file) => {\r\n        if (\r\n          product &&\r\n          imageUrl?.length + files?.length >\r\n            globalSetting?.number_of_image_per_product\r\n        ) {\r\n          return notifyError(\r\n            `Maximum ${globalSetting?.number_of_image_per_product} Image Can be Upload!`\r\n          );\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(\"Uploading....\");\r\n\r\n        if (product) {\r\n          const result = imageUrl?.find(\r\n            (img) => img === `${process.env.REACT_APP_CLOUDINARY_URL}`\r\n          );\r\n\r\n          if (result) return setLoading(false);\r\n        }\r\n\r\n        const name = file.name.replaceAll(/\\s/g, \"\");\r\n        const public_id = name?.substring(0, name.lastIndexOf(\".\"));\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\r\n          \"upload_preset\",\r\n          process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\r\n        );\r\n        formData.append(\"cloud_name\", process.env.REACT_APP_CLOUD_NAME);\r\n        formData.append(\"folder\", folder);\r\n        formData.append(\"public_id\", public_id);\r\n\r\n        axios({\r\n          url: process.env.REACT_APP_CLOUDINARY_URL,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n          data: formData,\r\n        })\r\n          .then((res) => {\r\n            notifySuccess(\"Image Uploaded successfully!\");\r\n            setLoading(false);\r\n            if (product) {\r\n              setImageUrl((imgUrl) => [...imgUrl, res.data.secure_url]);\r\n            } else {\r\n              setImageUrl(res.data.secure_url);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.error(\"err\", err);\r\n            notifyError(err.Message);\r\n            setLoading(false);\r\n          });\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [files]);\r\n\r\n  const thumbs = files.map((file) => (\r\n    <div key={file.name}>\r\n      <div>\r\n        <img\r\n          className=\"inline-flex border-2 border-gray-100 w-24 max-h-24\"\r\n          src={file.preview}\r\n          alt={file.name}\r\n        />\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\r\n    },\r\n    [files]\r\n  );\r\n\r\n  const handleRemoveImage = async (img) => {\r\n    try {\r\n      // const url = img.substring(img.length - 25);\r\n      const url = img.split(\"/\").pop().split(\".\")[0];\r\n      const public_id = `${folder}/${url}`;\r\n\r\n      const res = await cloudinary.v2.uploader.destroy(public_id);\r\n\r\n      setLoading(false);\r\n      notifyError(\r\n        res.result === \"ok\" ? \"Image delete successfully!\" : res.result\r\n      );\r\n      if (product) {\r\n        const result = imageUrl?.filter((i) => i !== img);\r\n        setImageUrl(result);\r\n      } else {\r\n        setImageUrl(\"\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"err\", err);\r\n      notifyError(err.Message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full text-center\">\r\n      <div\r\n        className=\"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6\"\r\n        {...getRootProps()}\r\n      >\r\n        <input {...getInputProps()} />\r\n        <span className=\"mx-auto flex justify-center\">\r\n          <FiUploadCloud className=\"text-3xl text-green-500\" />\r\n        </span>\r\n        <p className=\"text-sm mt-2\">{t(\"DragYourImage\")}</p>\r\n        <em className=\"text-xs text-gray-400\">{t(\"imageFormat\")}</em>\r\n      </div>\r\n\r\n      <div className=\"text-green-500\">{loading && err}</div>\r\n      <aside className=\"flex flex-row flex-wrap mt-4\">\r\n        {product ? (\r\n          <DndProvider backend={HTML5Backend}>\r\n            <Container\r\n              setImageUrl={setImageUrl}\r\n              imageUrl={imageUrl}\r\n              handleRemoveImage={handleRemoveImage}\r\n            />\r\n          </DndProvider>\r\n        ) : !product && imageUrl ? (\r\n          <div className=\"relative\">\r\n            {\" \"}\r\n            <img\r\n              className=\"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2\"\r\n              src={imageUrl}\r\n              alt=\"product\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"absolute top-0 right-0 text-red-500 focus:outline-none\"\r\n              onClick={() => handleRemoveImage(imageUrl)}\r\n            >\r\n              <FiXCircle />\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          thumbs\r\n        )}\r\n      </aside>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n","import React from 'react';\r\nimport { Select } from '@windmill/react-ui';\r\n\r\nconst SelectRole = ({ setRole, register, name, label }) => {\r\n  return (\r\n    <>\r\n      <Select\r\n        onChange={(e) => setRole(e.target.value)}\r\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\r\n        name={name}\r\n        {...register(`${name}`, {\r\n          required: `${label} is required!`,\r\n        })}\r\n      >\r\n        <option value=\"\" defaultValue hidden>\r\n          Staff role\r\n        </option>\r\n        <option value=\"Admin\">Admin</option>\r\n        <option value=\"CEO\">CEO</option>\r\n        <option value=\"Manager\">Manager</option>\r\n        <option value=\"Accountant\">Accountant</option>\r\n        <option value=\"Driver\"> Driver </option>\r\n        <option value=\"Security Guard\">Security Guard</option>\r\n        <option value=\"Deliver Person\">Delivery Person</option>\r\n      </Select>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectRole;\r\n","import dayjs from \"dayjs\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nimport { AdminContext } from \"context/AdminContext\";\r\nimport { SidebarContext } from \"context/SidebarContext\";\r\nimport AdminServices from \"services/AdminServices\";\r\nimport { notifyError, notifySuccess } from \"utils/toast\";\r\n\r\nconst useStaffSubmit = (id) => {\r\n  const { state } = useContext(AdminContext);\r\n  const { adminInfo } = state;\r\n  const { isDrawerOpen, closeDrawer, setIsUpdate, lang } =\r\n    useContext(SidebarContext);\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    dayjs(new Date()).format(\"YYYY-MM-DD\")\r\n  );\r\n  const [language, setLanguage] = useState(lang);\r\n  const [resData, setResData] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    clearErrors,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      setIsSubmitting(true);\r\n\r\n      const staffData = {\r\n        name: {\r\n          [language]: data.name,\r\n        },\r\n        email: data.email,\r\n        password: data.password,\r\n        phone: data.phone,\r\n        role: data.role,\r\n        joiningDate: selectedDate\r\n          ? selectedDate\r\n          : dayjs(new Date()).format(\"YYYY-MM-DD\"),\r\n        image: imageUrl,\r\n        lang: language,\r\n      };\r\n\r\n      if (id) {\r\n        // console.log('id is ',id)\r\n        const res = await AdminServices.updateStaff(id, staffData);\r\n        setIsUpdate(true);\r\n        setIsSubmitting(false);\r\n        notifySuccess(res.message);\r\n        closeDrawer();\r\n      } else {\r\n        const res = await AdminServices.addStaff({ staffData });\r\n        setIsUpdate(true);\r\n        setIsSubmitting(false);\r\n        notifySuccess(res.message);\r\n        closeDrawer();\r\n      }\r\n    } catch (err) {\r\n      notifyError(err ? err?.response?.data?.message : err?.message);\r\n      setIsSubmitting(false);\r\n      closeDrawer();\r\n    }\r\n  };\r\n\r\n  const getStaffData = async () => {\r\n    try {\r\n      const res = await AdminServices.getStaffById(id, {\r\n        email: adminInfo.email,\r\n      });\r\n      if (res) {\r\n        setResData(res);\r\n        setValue(\"name\", res.name[language ? language : \"en\"]);\r\n        setValue(\"email\", res.email);\r\n        setValue(\"password\");\r\n        setValue(\"phone\", res.phone);\r\n        setValue(\"role\", res.role);\r\n        setSelectedDate(dayjs(res.joiningData).format(\"YYYY-MM-DD\"));\r\n        setImageUrl(res.image);\r\n      }\r\n    } catch (err) {\r\n      notifyError(err ? err?.response?.data?.message : err?.message);\r\n    }\r\n  };\r\n\r\n  const handleSelectLanguage = (lang) => {\r\n    setLanguage(lang);\r\n\r\n    if (Object.keys(resData).length > 0) {\r\n      setValue(\"name\", resData.name[lang ? lang : \"en\"]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isDrawerOpen) {\r\n      setResData({});\r\n      setValue(\"name\");\r\n      setValue(\"email\");\r\n      setValue(\"password\");\r\n      setValue(\"phone\");\r\n      setValue(\"role\");\r\n      setValue(\"joiningDate\");\r\n      setImageUrl(\"\");\r\n      clearErrors(\"name\");\r\n      clearErrors(\"email\");\r\n      clearErrors(\"password\");\r\n      clearErrors(\"phone\");\r\n      clearErrors(\"role\");\r\n      clearErrors(\"joiningDate\");\r\n      setImageUrl(\"\");\r\n      setLanguage(lang);\r\n      setValue(\"language\", language);\r\n      return;\r\n    }\r\n    if (id) {\r\n      getStaffData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id, setValue, isDrawerOpen, adminInfo.email, clearErrors]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === \"/edit-profile\" && Cookies.get(\"adminInfo\")) {\r\n      getStaffData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname, setValue]);\r\n\r\n  return {\r\n    register,\r\n    handleSubmit,\r\n    onSubmit,\r\n    language,\r\n    errors,\r\n    setImageUrl,\r\n    imageUrl,\r\n    selectedDate,\r\n    setSelectedDate,\r\n    isSubmitting,\r\n    handleSelectLanguage,\r\n  };\r\n};\r\n\r\nexport default useStaffSubmit;\r\n"],"sourceRoot":""}