{"version":3,"sources":["hooks/useAsync.js","components/common/PageTitle.js","pages/EditProfile.js","services/SettingServices.js","components/form/Error.js","components/form/LabelArea.js","services/AdminServices.js","components/form/InputArea.js","../node_modules/cloudinary/lib/utils sync","components/image-uploader/ItemTypes.js","components/image-uploader/Card.js","components/image-uploader/Container.js","components/image-uploader/Uploader.js","components/form/SelectRole.js","hooks/useStaffSubmit.js","services/httpService.js"],"names":["useAsync","asyncFunction","data","setData","useState","error","setError","loading","setLoading","isUpdate","setIsUpdate","currentPage","category","searchText","invoice","status","zone","time","sortedField","source","limitData","startDate","endDate","useContext","SidebarContext","useEffect","unmounted","axios","CancelToken","res","cancelToken","token","err","message","isCancel","cancel","PageTitle","title","description","Helmet","name","content","EditProfile","t","useTranslation","state","adminInfo","AdminContext","register","handleSubmit","onSubmit","errors","imageUrl","setImageUrl","useStaffSubmit","_id","className","LabelArea","label","Uploader","folder","InputArea","type","placeholder","Error","errorName","email","phone","SelectRole","role","SettingServices","addGlobalSetting","async","requests","post","body","getGlobalSetting","get","updateGlobalSetting","put","AdminServices","registerAdmin","loginAdmin","forgetPassword","resetPassword","signUpWithProvider","addStaff","getAllStaff","getStaffById","id","updateStaff","updateStaffStatus","deleteStaff","delete","defaultValue","required","webpackEmptyContext","req","e","code","keys","resolve","module","exports","ItemTypes","Card","image","index","moveCard","handleRemoveImage","ref","useRef","handlerId","drop","useDrop","accept","collect","monitor","getHandlerId","hover","item","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drag","useDrag","isDragging","src","alt","onClick","Container","useCallback","prevCards","update","$splice","renderCard","card","i","text","map","cloudinary","config","cloud_name","process","api_key","api_secret","product","files","setFiles","globalSetting","getRootProps","getInputProps","fileRejections","useDropzone","multiple","maxSize","maxFiles","number_of_image_per_product","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","path","size","notifyError","forEach","length","find","img","replaceAll","public_id","substring","lastIndexOf","formData","FormData","append","url","method","headers","then","notifySuccess","imgUrl","secure_url","catch","console","Message","thumbs","revokeObjectURL","split","pop","v2","uploader","destroy","result","filter","DndProvider","backend","HTML5Backend","setRole","onChange","target","value","hidden","isDrawerOpen","closeDrawer","lang","selectedDate","setSelectedDate","dayjs","Date","format","language","setLanguage","resData","setResData","isSubmitting","setIsSubmitting","location","useLocation","setValue","clearErrors","formState","useForm","getStaffData","joiningData","response","pathname","Cookies","staffData","password","joiningDate","handleSelectLanguage","instance","create","baseURL","timeout","Accept","interceptors","request","use","company","JSON","parse","authorization","responseBody","patch"],"mappings":"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","file":"static/js/26.ae9563d1.chunk.js","sourcesContent":["import axios from \"axios\";\r\n// import Cookies from 'js-cookie';\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { SidebarContext } from \"context/SidebarContext\";\r\n\r\nconst useAsync = (asyncFunction) => {\r\n  const [data, setData] = useState([] || {});\r\n  const [error, setError] = useState(\"\");\r\n  // const [errCode, setErrCode] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const {\r\n    isUpdate,\r\n    setIsUpdate,\r\n    currentPage,\r\n    category,\r\n    searchText,\r\n    invoice,\r\n    status,\r\n    zone,\r\n    time,\r\n    sortedField,\r\n    source,\r\n    limitData,\r\n    startDate,\r\n    endDate,\r\n  } = useContext(SidebarContext);\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n    let source = axios.CancelToken.source();\r\n    (async () => {\r\n      try {\r\n        const res = await asyncFunction({ cancelToken: source.token });\r\n        if (!unmounted) {\r\n          setData(res);\r\n          setError(\"\");\r\n          setLoading(false);\r\n        }\r\n      } catch (err) {\r\n        if (!unmounted) {\r\n          setError(err.message);\r\n          if (axios.isCancel(err)) {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          } else {\r\n            setError(err.message);\r\n            setLoading(false);\r\n            setData([]);\r\n          }\r\n        }\r\n      }\r\n    })();\r\n\r\n  \r\n\r\n    setIsUpdate(false);\r\n\r\n    return () => {\r\n      unmounted = true;\r\n      source.cancel(\"Cancelled in cleanup\");\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    isUpdate,\r\n    currentPage,\r\n    category,\r\n    searchText,\r\n    invoice,\r\n    status,\r\n    zone,\r\n    time,\r\n    sortedField,\r\n    source,\r\n    limitData,\r\n    startDate,\r\n    endDate,\r\n  ]);\r\n\r\n\r\n  return {\r\n    data,\r\n    error,\r\n    loading,\r\n  };\r\n};\r\n\r\nexport default useAsync;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst PageTitle = ({ title, description }) => {\r\n  return (\r\n    <Helmet>\r\n      <title>\r\n        {\" \"}\r\n        {title\r\n          ? ` ${title} | ecommerce : Point of Sale and E-Commerce Website all in one`\r\n          : \"ecommerce : Point of Sale and E-Commerce Website all in one\"}\r\n      </title>\r\n      <meta\r\n        name=\"description\"\r\n        content={\r\n          description\r\n            ? ` ${description} `\r\n            : \"ecommerce : Point of Sale and E-Commerce Website all in one\"\r\n        }\r\n      />\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nexport default PageTitle;\r\n","import React, { useContext } from \"react\";\r\nimport { Button } from \"@windmill/react-ui\";\r\nimport { AdminContext } from \"context/AdminContext\";\r\nimport useStaffSubmit from \"hooks/useStaffSubmit\";\r\nimport PageTitle from \"components/common/PageTitle\";\r\nimport LabelArea from \"components/form/LabelArea\";\r\nimport Uploader from \"components/image-uploader/Uploader\";\r\nimport InputArea from \"components/form/InputArea\";\r\nimport Error from \"components/form/Error\";\r\nimport SelectRole from \"components/form/SelectRole\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst EditProfile = () => {\r\n  const { t } = useTranslation();\r\n  const {\r\n    state: { adminInfo },\r\n  } = useContext(AdminContext);\r\n\r\n  const { register, handleSubmit, onSubmit, errors, imageUrl, setImageUrl } =\r\n    useStaffSubmit(adminInfo._id);\r\n\r\n  return (\r\n    <>\r\n      <PageTitle> {t(\"EditProfile\")} </PageTitle>\r\n      <div className=\"container p-6 mx-auto bg-white  dark:bg-gray-800 dark:text-gray-200 rounded-lg\">\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"p-6 flex-grow scrollbar-hide w-full max-h-full\">\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfilePicture\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <Uploader\r\n                  imageUrl={imageUrl}\r\n                  setImageUrl={setImageUrl}\r\n                  folder=\"customer\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileName\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Name\"\r\n                  name=\"name\"\r\n                  type=\"text\"\r\n                  placeholder=\"Your Name\"\r\n                />\r\n                <Error errorName={errors.name} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileEmail\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Email\"\r\n                  name=\"email\"\r\n                  type=\"text\"\r\n                  placeholder=\"Email\"\r\n                />\r\n                <Error errorName={errors.email} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileContactNumber\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <InputArea\r\n                  register={register}\r\n                  label=\"Contact Number\"\r\n                  name=\"phone\"\r\n                  type=\"text\"\r\n                  placeholder=\"Contact Number\"\r\n                />\r\n                <Error errorName={errors.phone} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6\">\r\n              <LabelArea label={t(\"ProfileYourRole\")} />\r\n              <div className=\"col-span-8 sm:col-span-4\">\r\n                <SelectRole register={register} label=\"Role\" name=\"role\" />\r\n                <Error errorName={errors.role} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex flex-row-reverse pr-6 pb-6\">\r\n            <Button type=\"submit\" className=\"h-12 px-6\">\r\n              {t(\"updateProfile\")}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import requests from \"./httpService\";\r\n\r\nconst SettingServices = {\r\n  // global setting all function\r\n  addGlobalSetting: async (body) => {\r\n    return requests.post(\"/setting/global/add\", body);\r\n  },\r\n\r\n  getGlobalSetting: async () => {\r\n    return requests.get(\"/setting/global/all\");\r\n  },\r\n\r\n  updateGlobalSetting: async (body) => {\r\n    return requests.put(`/setting/global/update`, body);\r\n  },\r\n};\r\n\r\nexport default SettingServices;\r\n","import React from \"react\";\r\n\r\nconst Error = ({ errorName }) => {\r\n  return (\r\n    <>\r\n      {errorName && (\r\n        <span className=\"text-red-400 text-sm mt-2\">{errorName.message}</span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\nimport { Label } from \"@windmill/react-ui\";\r\n\r\nconst LabelArea = ({ label }) => {\r\n  return (\r\n    <Label className=\"col-span-4 sm:col-span-2 font-medium text-sm\">\r\n      {label}\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport default LabelArea;\r\n","import requests from \"./httpService\";\r\n\r\nconst AdminServices = {\r\n  registerAdmin: async (body) => {\r\n    return requests.post(\"/signup\", body);\r\n  },\r\n\r\n  loginAdmin: async (body) => {\r\n    return requests.post(`/login`, body);\r\n  },\r\n\r\n  forgetPassword: async (body) => {\r\n    return requests.post(\"/forget-password\", body);\r\n  },\r\n\r\n  resetPassword: async (body) => {\r\n    return requests.put(\"/admin/reset-password\", body);\r\n  },\r\n\r\n  signUpWithProvider: async (body) => {\r\n    return requests.post(\"/admin/signup\", body);\r\n  },\r\n\r\n  addStaff: async (body) => {\r\n    return requests.post(\"/admin/add\", body);\r\n  },\r\n  getAllStaff: async (body) => {\r\n    return requests.get(\"/admin\", body);\r\n  },\r\n  getStaffById: async (id, body) => {\r\n    return requests.post(`/admin/${id}`, body);\r\n  },\r\n\r\n  updateStaff: async (id, body) => {\r\n    return requests.put(`/admin/${id}`, body);\r\n  },\r\n\r\n  updateStaffStatus: async (id, body) => {\r\n    return requests.put(`/admin/update-status/${id}`, body);\r\n  },\r\n\r\n  deleteStaff: async (id) => {\r\n    return requests.delete(`/admin/${id}`);\r\n  },\r\n};\r\n\r\nexport default AdminServices;\r\n","import React from \"react\";\r\nimport { Input } from \"@windmill/react-ui\";\r\n\r\nconst InputArea = ({\r\n  register,\r\n  defaultValue,\r\n  required,\r\n  name,\r\n  label,\r\n  type,\r\n  placeholder,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Input\r\n        {...register(`${name}`, {\r\n          required: required ? false : `${label} is required!`,\r\n        })}\r\n        defaultValue={defaultValue}\r\n        type={type}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InputArea;\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 638;","export const ItemTypes = {\r\n  CARD: 'card',\r\n};\r\n","import { useRef } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { FiXCircle } from \"react-icons/fi\";\r\nimport { ItemTypes } from \"./ItemTypes.js\";\r\n\r\nconst Card = ({ id, image, index, moveCard, handleRemoveImage }) => {\r\n  const ref = useRef(null);\r\n  const [{ handlerId }, drop] = useDrop({\r\n    accept: ItemTypes.CARD,\r\n    collect(monitor) {\r\n      return {\r\n        handlerId: monitor.getHandlerId(),\r\n      };\r\n    },\r\n    hover(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n      const dragIndex = item.index;\r\n      const hoverIndex = index;\r\n      // Don't replace items with themselves\r\n      if (dragIndex === hoverIndex) {\r\n        return;\r\n      }\r\n      // Determine rectangle on screen\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      // Get vertical middle\r\n      const hoverMiddleY =\r\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n      // Determine mouse position\r\n      const clientOffset = monitor.getClientOffset();\r\n      // Get pixels to the top\r\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n      // Only perform the move when the mouse has crossed half of the items height\r\n      // When dragging downwards, only move when the cursor is below 50%\r\n      // When dragging upwards, only move when the cursor is above 50%\r\n      // Dragging downwards\r\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n        return;\r\n      }\r\n      // Dragging upwards\r\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n        return;\r\n      }\r\n      // Time to actually perform the action\r\n      moveCard(dragIndex, hoverIndex);\r\n      // Note: we're mutating the monitor item here!\r\n      // Generally it's better to avoid mutations,\r\n      // but it's good here for the sake of performance\r\n      // to avoid expensive index searches.\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n  const [{}, drag] = useDrag({\r\n    type: ItemTypes.CARD,\r\n    item: () => {\r\n      return { id, index };\r\n    },\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  drag(drop(ref));\r\n  return (\r\n    <div ref={ref} data-handler-id={handlerId}>\r\n      <div className=\"relative\">\r\n        <img\r\n          className=\"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2 m-2\"\r\n          src={image}\r\n          alt=\"product\"\r\n        />\r\n        {index === 0 && (\r\n          <p className=\"text-xs absolute py-1 w-full bottom-0 inset-x-0 bg-blue-500 rounded-full text-white text-center \">\r\n            Default Image\r\n          </p>\r\n        )}\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"absolute top-0 right-0 text-red-500 focus:outline-none\"\r\n          onClick={() => handleRemoveImage(image)}\r\n        >\r\n          <FiXCircle />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import update from \"immutability-helper\";\r\nimport { useCallback } from \"react\";\r\nimport Card from \"./Card\";\r\n\r\nconst Container = ({ setImageUrl, imageUrl, handleRemoveImage }) => {\r\n  const moveCard = useCallback(\r\n    (dragIndex, hoverIndex) => {\r\n      setImageUrl((prevCards) =>\r\n        update(prevCards, {\r\n          $splice: [\r\n            [dragIndex, 1],\r\n            [hoverIndex, 0, prevCards[dragIndex]],\r\n          ],\r\n        })\r\n      );\r\n    },\r\n    [setImageUrl]\r\n  );\r\n\r\n  const renderCard = useCallback(\r\n    (card, i) => {\r\n      return (\r\n        <Card\r\n          key={i + 1}\r\n          index={i}\r\n          id={card.id}\r\n          text={card.text}\r\n          moveCard={moveCard}\r\n          image={card}\r\n          handleRemoveImage={handleRemoveImage}\r\n        />\r\n      );\r\n    },\r\n    [moveCard, handleRemoveImage]\r\n  );\r\n  return <>{imageUrl.map((card, i) => renderCard(card, i))}</>;\r\n};\r\n\r\nexport default Container;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { t } from \"i18next\";\r\nimport axios from \"axios\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport cloudinary from \"cloudinary/lib/cloudinary\";\r\nimport { FiUploadCloud, FiXCircle } from \"react-icons/fi\";\r\n\r\n//internal import\r\nimport useAsync from \"hooks/useAsync\";\r\nimport SettingServices from \"services/SettingServices\";\r\nimport { notifyError, notifySuccess } from \"../../utils/toast\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport Container from \"./Container\";\r\n\r\ncloudinary.config({\r\n  cloud_name: process.env.REACT_APP_CLOUD_NAME,\r\n  api_key: process.env.REACT_APP_CLOUDINARY_API_KEY,\r\n  api_secret: process.env.REACT_APP_CLOUDINARY_API_SECRET,\r\n});\r\n\r\nconst Uploader = ({ setImageUrl, imageUrl, product, folder }) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setError] = useState(\"\");\r\n\r\n  const { data: globalSetting } = useAsync(SettingServices.getGlobalSetting);\r\n\r\n  // console.log(\"data\", data);\r\n\r\n  const { getRootProps, getInputProps, fileRejections } = useDropzone({\r\n    accept: \"image/*\",\r\n    multiple: product ? true : false,\r\n    maxSize: 500000,\r\n    maxFiles: globalSetting?.number_of_image_per_product || 2,\r\n    onDrop: (acceptedFiles) => {\r\n      setFiles(\r\n        acceptedFiles.map((file) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (fileRejections) {\r\n      fileRejections.map(({ file, errors }) => (\r\n        <li key={file.path}>\r\n          {file.path} - {file.size} bytes\r\n          <ul>\r\n            {errors.map((e) => (\r\n              <li key={e.code}>\r\n                {e.code === \"too-many-files\"\r\n                  ? notifyError(\r\n                      `Maximum ${globalSetting?.number_of_image_per_product} Image Can be Upload!`\r\n                    )\r\n                  : notifyError(e.message)}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </li>\r\n      ));\r\n    }\r\n\r\n    if (files) {\r\n      files.forEach((file) => {\r\n        if (\r\n          product &&\r\n          imageUrl?.length + files?.length >\r\n            globalSetting?.number_of_image_per_product\r\n        ) {\r\n          return notifyError(\r\n            `Maximum ${globalSetting?.number_of_image_per_product} Image Can be Upload!`\r\n          );\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(\"Uploading....\");\r\n\r\n        if (product) {\r\n          const result = imageUrl?.find(\r\n            (img) => img === `${process.env.REACT_APP_CLOUDINARY_URL}`\r\n          );\r\n\r\n          if (result) return setLoading(false);\r\n        }\r\n\r\n        const name = file.name.replaceAll(/\\s/g, \"\");\r\n        const public_id = name?.substring(0, name.lastIndexOf(\".\"));\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\r\n          \"upload_preset\",\r\n          process.env.REACT_APP_CLOUDINARY_UPLOAD_PRESET\r\n        );\r\n        formData.append(\"cloud_name\", process.env.REACT_APP_CLOUD_NAME);\r\n        formData.append(\"folder\", folder);\r\n        formData.append(\"public_id\", public_id);\r\n\r\n        axios({\r\n          url: process.env.REACT_APP_CLOUDINARY_URL,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n          },\r\n          data: formData,\r\n        })\r\n          .then((res) => {\r\n            notifySuccess(\"Image Uploaded successfully!\");\r\n            setLoading(false);\r\n            if (product) {\r\n              setImageUrl((imgUrl) => [...imgUrl, res.data.secure_url]);\r\n            } else {\r\n              setImageUrl(res.data.secure_url);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.error(\"err\", err);\r\n            notifyError(err.Message);\r\n            setLoading(false);\r\n          });\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [files]);\r\n\r\n  const thumbs = files.map((file) => (\r\n    <div key={file.name}>\r\n      <div>\r\n        <img\r\n          className=\"inline-flex border-2 border-gray-100 w-24 max-h-24\"\r\n          src={file.preview}\r\n          alt={file.name}\r\n        />\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // Make sure to revoke the data uris to avoid memory leaks\r\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\r\n    },\r\n    [files]\r\n  );\r\n\r\n  const handleRemoveImage = async (img) => {\r\n    try {\r\n      // const url = img.substring(img.length - 25);\r\n      const url = img.split(\"/\").pop().split(\".\")[0];\r\n      const public_id = `${folder}/${url}`;\r\n\r\n      const res = await cloudinary.v2.uploader.destroy(public_id);\r\n\r\n      setLoading(false);\r\n      notifyError(\r\n        res.result === \"ok\" ? \"Image delete successfully!\" : res.result\r\n      );\r\n      if (product) {\r\n        const result = imageUrl?.filter((i) => i !== img);\r\n        setImageUrl(result);\r\n      } else {\r\n        setImageUrl(\"\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"err\", err);\r\n      notifyError(err.Message);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full text-center\">\r\n      <div\r\n        className=\"border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md cursor-pointer px-6 pt-5 pb-6\"\r\n        {...getRootProps()}\r\n      >\r\n        <input {...getInputProps()} />\r\n        <span className=\"mx-auto flex justify-center\">\r\n          <FiUploadCloud className=\"text-3xl text-green-500\" />\r\n        </span>\r\n        <p className=\"text-sm mt-2\">{t(\"DragYourImage\")}</p>\r\n        <em className=\"text-xs text-gray-400\">{t(\"imageFormat\")}</em>\r\n      </div>\r\n\r\n      <div className=\"text-green-500\">{loading && err}</div>\r\n      <aside className=\"flex flex-row flex-wrap mt-4\">\r\n        {product ? (\r\n          <DndProvider backend={HTML5Backend}>\r\n            <Container\r\n              setImageUrl={setImageUrl}\r\n              imageUrl={imageUrl}\r\n              handleRemoveImage={handleRemoveImage}\r\n            />\r\n          </DndProvider>\r\n        ) : !product && imageUrl ? (\r\n          <div className=\"relative\">\r\n            {\" \"}\r\n            <img\r\n              className=\"inline-flex border rounded-md border-gray-100 dark:border-gray-600 w-24 max-h-24 p-2\"\r\n              src={imageUrl}\r\n              alt=\"product\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              className=\"absolute top-0 right-0 text-red-500 focus:outline-none\"\r\n              onClick={() => handleRemoveImage(imageUrl)}\r\n            >\r\n              <FiXCircle />\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          thumbs\r\n        )}\r\n      </aside>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Uploader;\r\n","import React from 'react';\r\nimport { Select } from '@windmill/react-ui';\r\n\r\nconst SelectRole = ({ setRole, register, name, label }) => {\r\n  return (\r\n    <>\r\n      <Select\r\n        onChange={(e) => setRole(e.target.value)}\r\n        className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\r\n        name={name}\r\n        {...register(`${name}`, {\r\n          required: `${label} is required!`,\r\n        })}\r\n      >\r\n        <option value=\"\" defaultValue hidden>\r\n          Staff role\r\n        </option>\r\n        <option value=\"Admin\">Admin</option>\r\n        <option value=\"CEO\">CEO</option>\r\n        <option value=\"Manager\">Manager</option>\r\n        <option value=\"Accountant\">Accountant</option>\r\n        <option value=\"Driver\"> Driver </option>\r\n        <option value=\"Security Guard\">Security Guard</option>\r\n        <option value=\"Deliver Person\">Delivery Person</option>\r\n      </Select>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectRole;\r\n","import dayjs from \"dayjs\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nimport { AdminContext } from \"context/AdminContext\";\r\nimport { SidebarContext } from \"context/SidebarContext\";\r\nimport AdminServices from \"services/AdminServices\";\r\nimport { notifyError, notifySuccess } from \"utils/toast\";\r\n\r\nconst useStaffSubmit = (id) => {\r\n  const { state } = useContext(AdminContext);\r\n  const { adminInfo } = state;\r\n  const { isDrawerOpen, closeDrawer, setIsUpdate, lang } =\r\n    useContext(SidebarContext);\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [selectedDate, setSelectedDate] = useState(\r\n    dayjs(new Date()).format(\"YYYY-MM-DD\")\r\n  );\r\n  const [language, setLanguage] = useState(lang);\r\n  const [resData, setResData] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const location = useLocation();\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    clearErrors,\r\n    formState: { errors },\r\n  } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      setIsSubmitting(true);\r\n\r\n      const staffData = {\r\n        name: {\r\n          [language]: data.name,\r\n        },\r\n        email: data.email,\r\n        password: data.password,\r\n        phone: data.phone,\r\n        role: data.role,\r\n        joiningDate: selectedDate\r\n          ? selectedDate\r\n          : dayjs(new Date()).format(\"YYYY-MM-DD\"),\r\n        image: imageUrl,\r\n        lang: language,\r\n      };\r\n\r\n      if (id) {\r\n        // console.log('id is ',id)\r\n        const res = await AdminServices.updateStaff(id, staffData);\r\n        setIsUpdate(true);\r\n        setIsSubmitting(false);\r\n        notifySuccess(res.message);\r\n        closeDrawer();\r\n      } else {\r\n        const res = await AdminServices.addStaff({ staffData });\r\n        setIsUpdate(true);\r\n        setIsSubmitting(false);\r\n        notifySuccess(res.message);\r\n        closeDrawer();\r\n      }\r\n    } catch (err) {\r\n      notifyError(err ? err?.response?.data?.message : err?.message);\r\n      setIsSubmitting(false);\r\n      closeDrawer();\r\n    }\r\n  };\r\n\r\n  const getStaffData = async () => {\r\n    try {\r\n      const res = await AdminServices.getStaffById(id, {\r\n        email: adminInfo.email,\r\n      });\r\n      if (res) {\r\n        setResData(res);\r\n        setValue(\"name\", res.name[language ? language : \"en\"]);\r\n        setValue(\"email\", res.email);\r\n        setValue(\"password\");\r\n        setValue(\"phone\", res.phone);\r\n        setValue(\"role\", res.role);\r\n        setSelectedDate(dayjs(res.joiningData).format(\"YYYY-MM-DD\"));\r\n        setImageUrl(res.image);\r\n      }\r\n    } catch (err) {\r\n      notifyError(err ? err?.response?.data?.message : err?.message);\r\n    }\r\n  };\r\n\r\n  const handleSelectLanguage = (lang) => {\r\n    setLanguage(lang);\r\n\r\n    if (Object.keys(resData).length > 0) {\r\n      setValue(\"name\", resData.name[lang ? lang : \"en\"]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!isDrawerOpen) {\r\n      setResData({});\r\n      setValue(\"name\");\r\n      setValue(\"email\");\r\n      setValue(\"password\");\r\n      setValue(\"phone\");\r\n      setValue(\"role\");\r\n      setValue(\"joiningDate\");\r\n      setImageUrl(\"\");\r\n      clearErrors(\"name\");\r\n      clearErrors(\"email\");\r\n      clearErrors(\"password\");\r\n      clearErrors(\"phone\");\r\n      clearErrors(\"role\");\r\n      clearErrors(\"joiningDate\");\r\n      setImageUrl(\"\");\r\n      setLanguage(lang);\r\n      setValue(\"language\", language);\r\n      return;\r\n    }\r\n    if (id) {\r\n      getStaffData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id, setValue, isDrawerOpen, adminInfo.email, clearErrors]);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname === \"/edit-profile\" && Cookies.get(\"adminInfo\")) {\r\n      getStaffData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [location.pathname, setValue]);\r\n\r\n  return {\r\n    register,\r\n    handleSubmit,\r\n    onSubmit,\r\n    language,\r\n    errors,\r\n    setImageUrl,\r\n    imageUrl,\r\n    selectedDate,\r\n    setSelectedDate,\r\n    isSubmitting,\r\n    handleSelectLanguage,\r\n  };\r\n};\r\n\r\nexport default useStaffSubmit;\r\n","import axios from 'axios';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst instance = axios.create({\r\n  baseURL: `https://backend.canadasentinel.ca/api`,\r\n  timeout: 50000,\r\n  headers: {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Add a request interceptor\r\ninstance.interceptors.request.use(function (config) {\r\n  // Do something before request is sent\r\n  let adminInfo;\r\n  if (Cookies.get('adminInfo')) {\r\n    adminInfo = JSON.parse(Cookies.get('adminInfo'));\r\n  }\r\n\r\n  let company;\r\n\r\n  if (Cookies.get('company')) {\r\n    company = Cookies.get('company');\r\n  }\r\n\r\n  // console.log('Admin Http Services Cookie Read : ' + company);\r\n  // let companyName = JSON.stringify(company);\r\n\r\n  return {\r\n    ...config,\r\n    headers: {\r\n      authorization: adminInfo ? `Bearer ${adminInfo.token}` : null,\r\n      company: company ? company : null,\r\n    },\r\n  };\r\n});\r\n\r\nconst responseBody = (response) => response.data;\r\n\r\nconst requests = {\r\n  get: (url, body, headers) =>\r\n    instance.get(url, body, headers).then(responseBody),\r\n\r\n  post: (url, body) => instance.post(url, body).then(responseBody),\r\n\r\n  put: (url, body, headers) =>\r\n    instance.put(url, body, headers).then(responseBody),\r\n\r\n  patch: (url, body) => instance.patch(url, body).then(responseBody),\r\n\r\n  delete: (url, body) => instance.delete(url, body).then(responseBody),\r\n};\r\n\r\nexport default requests;\r\n"],"sourceRoot":""}