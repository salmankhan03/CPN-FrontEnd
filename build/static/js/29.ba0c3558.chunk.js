(this["webpackJsonpecommerce-admin"]=this["webpackJsonpecommerce-admin"]||[]).push([[29],{116:function(e,t,a){"use strict";var n=a(143),s=a.n(n),r=a(0),i=a(41);t.a=e=>{const[t,a]=Object(r.useState)([]||!1),[n,o]=Object(r.useState)(""),[c,u]=Object(r.useState)(!0),{isUpdate:l,setIsUpdate:d,currentPage:p,category:g,searchText:m,invoice:h,status:y,zone:b,time:v,sortedField:f,source:j,limitData:O,startDate:$,endDate:C}=Object(r.useContext)(i.a);return Object(r.useEffect)((()=>{let t=!1,n=s.a.CancelToken.source();return(async()=>{try{const s=await e({cancelToken:n.token});t||(a(s),o(""),u(!1))}catch(r){t||(o(r.message),s.a.isCancel(r),o(r.message),u(!1),a([]))}})(),d(!1),()=>{t=!0,n.cancel("Cancelled in cleanup")}}),[l,p,g,m,h,y,b,v,f,j,O,$,C]),{data:t,error:n,loading:c}}},117:function(e,t,a){"use strict";var n=a(99);const s={getAllProducts:async e=>{let{page:t,limit:a,category:s,title:r,price:i}=e;let o={category:null!==s?s:"",title:null!==r?r:"",price:null!==i?i:""};return n.a.post(`/product/list?page=${t}&pageSize=${a}`,o)},getProductById:async e=>n.a.get(`/product/${e}/data`),addProduct:async e=>n.a.post("/product/save",e),addAllProducts:async e=>n.a.post("/products/all",e),updateProduct:async(e,t)=>n.a.post("/product/save",t),updateManyProducts:async e=>n.a.patch("products/update/many",e),updateStatus:async(e,t)=>n.a.put(`/products/status/${e}`,t),deleteProduct:async(e,t)=>n.a.delete(`/product/${e}/delete`,t),deleteManyProducts:async e=>n.a.post("/product/multiple-delete",e)};t.a=s},118:function(e,t,a){"use strict";var n=a(99);const s={getAllCategory:async()=>n.a.get("/category/list"),getAllCategories:async()=>n.a.post("/category/tree"),getCategoryById:async e=>n.a.get(`/category/${e}/category-data`),addCategory:async e=>(console.log("body add cat",e),n.a.post("/category/save",e)),addAllCategory:async e=>n.a.post("/category/add/all",e),updateCategory:async(e,t)=>n.a.post("/category/save",t),updateStatus:async(e,t)=>n.a.post("/category/save",t),deleteCategory:async(e,t)=>n.a.delete(`/category/${e}/delete`,t),updateManyCategory:async e=>n.a.patch("/category/update/many",e),deleteManyCategory:async e=>n.a.post("/category/multiple_delete",e)};t.a=s},120:function(e,t,a){"use strict";var n=a(99);const s={getAllLanguages:async()=>n.a.get("/language/all"),getShowingLanguage:async()=>n.a.get("/language/show"),getLanguageById:async e=>n.a.get(`/language/${e}`),addLanguage:async e=>n.a.post("/language/add",e),addAllLanguage:async e=>n.a.post("/language/add/all",e),updateLanguage:async(e,t)=>n.a.put(`/language/${e}`,t),updateManyLanguage:async e=>n.a.patch("language/update/many",e),updateStatus:async(e,t)=>n.a.put(`/language/status/${e}`,t),deleteLanguage:async(e,t)=>n.a.patch(`/language/${e}`,t),deleteManyLanguage:async e=>n.a.patch("/language/delete/many",e)};t.a=s},1264:function(e,t,a){"use strict";a.r(t);a(0);var n=a(6),s=a(40),r=a(699),i=a(116),o=a(692),c=a(212),u=a(185),l=a(698),d=a(697),p=a(726),g=a(693),m=a(3);var h=e=>{let{orders:t}=e;const{globalSetting:a}=Object(c.a)();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(s.TableBody,{children:null===t||void 0===t?void 0:t.map((e=>{var t,n,r;return Object(m.jsxs)(s.TableRow,{children:[Object(m.jsx)(s.TableCell,{children:Object(m.jsx)("span",{className:"font-semibold uppercase text-xs",children:null===e||void 0===e||null===(t=e._id)||void 0===t?void 0:t.substring(20,24)})}),Object(m.jsx)(s.TableCell,{children:Object(m.jsx)("span",{className:"text-sm",children:Object(g.a)(e.createdAt,null===a||void 0===a?void 0:a.default_date_format)})}),Object(m.jsx)(s.TableCell,{children:Object(m.jsx)("span",{className:"text-sm",children:null===e||void 0===e||null===(n=e.user_info)||void 0===n?void 0:n.address})}),Object(m.jsxs)(s.TableCell,{children:[" ",Object(m.jsx)("span",{className:"text-sm",children:null===(r=e.user_info)||void 0===r?void 0:r.contact})," "]}),Object(m.jsx)(s.TableCell,{children:Object(m.jsx)("span",{className:"text-sm font-semibold",children:e.paymentMethod})}),Object(m.jsxs)(s.TableCell,{children:[" ",Object(m.jsxs)("span",{className:"text-sm font-semibold",children:["$",parseFloat(e.total).toFixed(2)]})," "]}),Object(m.jsx)(s.TableCell,{className:"text-center",children:Object(m.jsx)(d.a,{status:e.status})}),Object(m.jsx)(s.TableCell,{className:"text-right",children:Object(m.jsx)(p.a,{id:e._id})})]},e._id)}))})})},y=a(95);t.default=()=>{const{id:e}=Object(n.i)(),{t:t}=Object(y.a)(),{data:a,loading:d,error:p}=Object(i.a)((()=>o.a.getOrderCustomer(e))),{handleChangePage:g,totalResults:b,resultsPerPage:v,dataTable:f}=Object(c.a)(a);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{children:t("CustomerOrderList")}),d&&Object(m.jsx)(l.a,{loading:d}),!p&&!d&&0===f.length&&Object(m.jsx)("div",{className:"w-full bg-white rounded-md dark:bg-gray-800",children:Object(m.jsxs)("div",{className:"p-8 text-center",children:[Object(m.jsx)("span",{className:"flex justify-center my-30 text-red-500 font-semibold text-6xl",children:Object(m.jsx)(r.a,{})}),Object(m.jsx)("h2",{className:"font-medium text-base mt-4 text-gray-600",children:t("CustomerOrderEmpty")})]})}),a.length>0&&!p&&!d?Object(m.jsxs)(s.TableContainer,{className:"mb-8",children:[Object(m.jsxs)(s.Table,{children:[Object(m.jsx)(s.TableHeader,{children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)(s.TableCell,{children:[" ",t("CustomerOrderId")," "]}),Object(m.jsx)(s.TableCell,{children:t("CustomerOrderTime")}),Object(m.jsx)(s.TableCell,{children:t("CustomerShippingAddress")}),Object(m.jsxs)(s.TableCell,{children:[t("Phone")," "]}),Object(m.jsxs)(s.TableCell,{children:[t("CustomerOrderMethod")," "]}),Object(m.jsx)(s.TableCell,{children:t("Amount")}),Object(m.jsxs)(s.TableCell,{className:"text-center",children:[" ",t("CustomerOrderStatus")," "]}),Object(m.jsx)(s.TableCell,{className:"text-center",children:t("CustomerOrderAction")})]})}),Object(m.jsx)(h,{orders:f})]}),Object(m.jsx)(s.TableFooter,{children:Object(m.jsx)(s.Pagination,{totalResults:b,resultsPerPage:v,onChange:g,label:"Table navigation"})})]}):null]})}},128:function(e,t,a){"use strict";var n=a(99);const s={getAllAttributes:async e=>{let{type:t,option:a,option1:s}=e;return n.a.get(`/attributes?type=${t}&option=${a}&option1=${s}`)},getShowingAttributes:async e=>n.a.get("/attributes/show",e),addAttribute:async e=>n.a.post("/attributes/add",e),addChildAttribute:async(e,t)=>n.a.put(`/attributes/add/child/${e}`,t),addAllAttributes:async e=>n.a.post("/attributes/add/all",e),getAttributeById:async e=>n.a.get(`/attributes/${e}`),getChildAttributeById:async e=>{let{id:t,ids:a}=e;return n.a.get(`/attributes/child/${t}/${a}`)},updateAttributes:async(e,t)=>n.a.put(`/attributes/${e}`,t),updateChildAttributes:async(e,t)=>{let{id:a,ids:s}=e;return n.a.put(`/attributes/update/child/${s}/${a}`,t)},updateStatus:async(e,t)=>n.a.put(`/attributes/status/${e}`,t),updateChildStatus:async(e,t)=>n.a.put(`/attributes/status/child/${e}`,t),deleteAttribute:async(e,t)=>n.a.delete(`/attributes/${e}`,t),deleteChildAttribute:async(e,t)=>{let{id:a,ids:s}=e;return n.a.put(`/attributes/delete/child/${s}/${a}`,t)},updateManyAttribute:async e=>n.a.patch("/attributes/update/many",e),updateManyChildAttribute:async e=>n.a.patch("/attributes/update/child/many",e),deleteManyAttribute:async e=>n.a.patch("/attributes/delete/many",e),deleteManyChildAttribute:async e=>n.a.patch("/attributes/delete/child/many",e)};t.a=s},129:function(e,t,a){"use strict";var n=a(99);const s={getAllCurrency:async()=>n.a.get("/currency"),getShowingCurrency:async()=>n.a.get("/currency/show"),getCurrencyById:async e=>n.a.get(`/currency/${e}`),addCurrency:async e=>n.a.post("/currency/add",e),addAllCurrency:async e=>n.a.post("/currency/add/all",e),updateCurrency:async(e,t)=>n.a.put(`/currency/${e}`,t),updateManyCurrencies:async e=>n.a.patch("currency/update/many",e),updateEnabledStatus:async(e,t)=>n.a.put(`/currency/status/enabled/${e}`,t),updateLiveExchangeRateStatus:async(e,t)=>n.a.put(`/currency/status/live-exchange-rates/${e}`,t),deleteCurrency:async(e,t)=>n.a.delete(`/currency/${e}`,t),deleteManyCurrency:async e=>n.a.patch("/currency/delete/many",e)};t.a=s},130:function(e,t,a){"use strict";var n=a(99);const s={addCoupon:async e=>n.a.post("/coupon-code/save",e),addAllCoupon:async e=>n.a.post("/coupon/add/all",e),getAllCoupons:async()=>n.a.post("/coupon-code/list"),getCouponById:async e=>n.a.get(`/coupon-code/${e}/data`),updateCoupon:async(e,t)=>n.a.put(`/coupon/${e}`,t),updateManyCoupons:async e=>n.a.patch("/coupon/update/many",e),updateStatus:async(e,t)=>n.a.put(`/coupon/status/${e}`,t),deleteCoupon:async e=>n.a.delete(`/coupon-code/${e}/delete`),deleteManyCoupons:async e=>n.a.post("/coupon-code/multiple-delete",e)};t.a=s},134:function(e,t,a){"use strict";var n=a(99);const s={getAllBrands:async e=>n.a.post(`/product-brand/list?page=${e.page}&pageSize=${e.limit}`),getBrandById:async e=>n.a.get(`/product-brand/${e}/data`),addUpdateBrand:async e=>n.a.post("/product-brand/save",e),deleteBrands:async(e,t)=>n.a.delete(`/product-brand/${e}/delete`,t),deleteManyBrands:async e=>n.a.post("/product-brand/multiple-delete",e)};t.a=s},144:function(e,t,a){"use strict";var n=a(99);const s={addGlobalSetting:async e=>n.a.post("/setting/global/add",e),getGlobalSetting:async()=>n.a.get("/setting/global/all"),updateGlobalSetting:async e=>n.a.put("/setting/global/update",e),removeMultiDeleteMedia:async e=>n.a.post("/image/multiple-delete",e)};t.a=s},160:function(e,t,a){e.exports=function(){"use strict";var e=1e3,t=6e4,a=36e5,n="millisecond",s="second",r="minute",i="hour",o="day",c="week",u="month",l="quarter",d="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},b=function(e,t,a){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(a)+e},v={s:b,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),n=Math.floor(a/60),s=a%60;return(t<=0?"+":"-")+b(n,2,"0")+":"+b(s,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var n=12*(a.year()-t.year())+(a.month()-t.month()),s=t.clone().add(n,u),r=a-s<0,i=t.clone().add(n+(r?-1:1),u);return+(-(n+(a-s)/(r?s-i:i-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:o,D:p,h:i,m:r,s:s,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},f="en",j={};j[f]=y;var O="$isDayjsObject",$=function(e){return e instanceof w||!(!e||!e[O])},C=function e(t,a,n){var s;if(!t)return f;if("string"==typeof t){var r=t.toLowerCase();j[r]&&(s=r),a&&(j[r]=a,s=r);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var o=t.name;j[o]=t,s=o}return!n&&s&&(f=s),s||!n&&f},S=function(e,t){if($(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new w(a)},x=v;x.l=C,x.i=$,x.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function y(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[O]=!0}var b=y.prototype;return b.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(x.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(m);if(n){var s=n[2]-1||0,r=(n[7]||"0").substring(0,3);return a?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(t)}(e),this.init()},b.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},b.$utils=function(){return x},b.isValid=function(){return!(this.$d.toString()===g)},b.isSame=function(e,t){var a=S(e);return this.startOf(t)<=a&&a<=this.endOf(t)},b.isAfter=function(e,t){return S(e)<this.startOf(t)},b.isBefore=function(e,t){return this.endOf(t)<S(e)},b.$g=function(e,t,a){return x.u(e)?this[t]:this.set(a,e)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(e,t){var a=this,n=!!x.u(t)||t,l=x.p(e),g=function(e,t){var s=x.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return n?s:s.endOf(o)},m=function(e,t){return x.w(a.toDate()[e].apply(a.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},h=this.$W,y=this.$M,b=this.$D,v="set"+(this.$u?"UTC":"");switch(l){case d:return n?g(1,0):g(31,11);case u:return n?g(1,y):g(0,y+1);case c:var f=this.$locale().weekStart||0,j=(h<f?h+7:h)-f;return g(n?b-j:b+(6-j),y);case o:case p:return m(v+"Hours",0);case i:return m(v+"Minutes",1);case r:return m(v+"Seconds",2);case s:return m(v+"Milliseconds",3);default:return this.clone()}},b.endOf=function(e){return this.startOf(e,!1)},b.$set=function(e,t){var a,c=x.p(e),l="set"+(this.$u?"UTC":""),g=(a={},a[o]=l+"Date",a[p]=l+"Date",a[u]=l+"Month",a[d]=l+"FullYear",a[i]=l+"Hours",a[r]=l+"Minutes",a[s]=l+"Seconds",a[n]=l+"Milliseconds",a)[c],m=c===o?this.$D+(t-this.$W):t;if(c===u||c===d){var h=this.clone().set(p,1);h.$d[g](m),h.init(),this.$d=h.set(p,Math.min(this.$D,h.daysInMonth())).$d}else g&&this.$d[g](m);return this.init(),this},b.set=function(e,t){return this.clone().$set(e,t)},b.get=function(e){return this[x.p(e)]()},b.add=function(n,l){var p,g=this;n=Number(n);var m=x.p(l),h=function(e){var t=S(g);return x.w(t.date(t.date()+Math.round(e*n)),g)};if(m===u)return this.set(u,this.$M+n);if(m===d)return this.set(d,this.$y+n);if(m===o)return h(1);if(m===c)return h(7);var y=(p={},p[r]=t,p[i]=a,p[s]=e,p)[m]||1,b=this.$d.getTime()+n*y;return x.w(b,this)},b.subtract=function(e,t){return this.add(-1*e,t)},b.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||g;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=x.z(this),r=this.$H,i=this.$m,o=this.$M,c=a.weekdays,u=a.months,l=a.meridiem,d=function(e,a,s,r){return e&&(e[a]||e(t,n))||s[a].slice(0,r)},p=function(e){return x.s(r%12||12,e,"0")},m=l||function(e,t,a){var n=e<12?"AM":"PM";return a?n.toLowerCase():n};return n.replace(h,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return x.s(t.$y,4,"0");case"M":return o+1;case"MM":return x.s(o+1,2,"0");case"MMM":return d(a.monthsShort,o,u,3);case"MMMM":return d(u,o);case"D":return t.$D;case"DD":return x.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(a.weekdaysMin,t.$W,c,2);case"ddd":return d(a.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(r);case"HH":return x.s(r,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return m(r,i,!0);case"A":return m(r,i,!1);case"m":return String(i);case"mm":return x.s(i,2,"0");case"s":return String(t.$s);case"ss":return x.s(t.$s,2,"0");case"SSS":return x.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")}))},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(n,p,g){var m,h=this,y=x.p(p),b=S(n),v=(b.utcOffset()-this.utcOffset())*t,f=this-b,j=function(){return x.m(h,b)};switch(y){case d:m=j()/12;break;case u:m=j();break;case l:m=j()/3;break;case c:m=(f-v)/6048e5;break;case o:m=(f-v)/864e5;break;case i:m=f/a;break;case r:m=f/t;break;case s:m=f/e;break;default:m=f}return g?m:x.a(m)},b.daysInMonth=function(){return this.endOf(u).$D},b.$locale=function(){return j[this.$L]},b.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),n=C(e,t,!0);return n&&(a.$L=n),a},b.clone=function(){return x.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},y}(),D=w.prototype;return S.prototype=D,[["$ms",n],["$s",s],["$m",r],["$H",i],["$W",o],["$M",u],["$y",d],["$D",p]].forEach((function(e){D[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,w,S),e.$i=!0),S},S.locale=C,S.isDayjs=$,S.unix=function(e){return S(1e3*e)},S.en=j[f],S.Ls=j,S.p={},S}()},161:function(e,t,a){"use strict";var n=a(99);const s={getAllCustomers:async e=>{let{searchText:t=""}=e;return n.a.get(`/customer?searchText=${t}`)},addAllCustomers:async e=>n.a.post("/customer/add/all",e),createCustomer:async e=>n.a.post("/customer/create",e),filterCustomer:async e=>n.a.post(`/customer/filter/${e}`),getCustomerById:async e=>n.a.get(`/customer/${e}`),updateCustomer:async(e,t)=>n.a.put(`/customer/${e}`,t),deleteCustomer:async e=>n.a.delete(`/customer/${e}`)};t.a=s},185:function(e,t,a){"use strict";a(0);var n=a(3);t.a=e=>{let{children:t}=e;return Object(n.jsx)("h1",{className:"my-6 text-lg font-bold text-gray-700 dark:text-gray-300",children:t})}},212:function(e,t,a){"use strict";var n=a(400),s=a.n(n),r=a(401),i=a.n(r),o=a(160),c=a(216),u=a.n(c),l=a(217),d=a.n(l),p=a(0),g=a(6),m=a(402),h=a(41),y=a(128),b=a(118),v=a(130),f=a(129),j=a(161),O=a(120),$=a(117),C=a(144),S=a(42),x=a(116);a(134);const w={type:"object",properties:{_id:{type:"string"},name:{type:"object"},description:{type:"object"},icon:{type:"string"},status:{type:"string"}},required:["name"]},D={type:"object",properties:{status:{type:"string"},title:{type:"object"},name:{type:"object"},variants:{type:"array"},option:{type:"string"},type:{type:"string"}},required:["name","title"]},A={type:"object",properties:{status:{type:"string"},title:{type:"object"},name:{type:"object"},description:{type:"array"},option:{type:"string"},type:{type:"string"}},required:["name","title"]},T={type:"object",properties:{title:{type:"object"},couponCode:{type:"string"},endTime:{type:"string"},discountPercentage:{type:"number"},minimumAmount:{type:"number"},productType:{type:"string"},logo:{type:"string"},discountType:{type:"object"},status:{type:"string"}},required:["title","couponCode","endTime","status"]},M={type:"object",properties:{name:{type:"string"},email:{type:"string"}},required:["name","email"]};t.a=e=>{const t=new s.a({allErrors:!0}),[a,n]=Object(p.useState)(""),[r,c]=Object(p.useState)(""),[l,L]=Object(p.useState)(""),[N,P]=Object(p.useState)(""),[_,B]=Object(p.useState)(""),[R,I]=Object(p.useState)(""),[k,J]=Object(p.useState)(""),[F,Y]=Object(p.useState)(""),[U,H]=Object(p.useState)(""),[z,V]=Object(p.useState)(""),[W,q]=Object(p.useState)(""),[E,Z]=Object(p.useState)(""),[G,Q]=Object(p.useState)(""),[X,K]=Object(p.useState)([]),[ee,te]=Object(p.useState)([]),[ae,ne]=Object(p.useState)([]),[se,re]=Object(p.useState)(""),[ie,oe]=Object(p.useState)(""),[ce,ue]=Object(p.useState)(""),[le,de]=Object(p.useState)(1),[pe,ge]=Object(p.useState)([]),[me,he]=Object(p.useState)(""),[ye,be]=Object(p.useState)(""),[ve,fe]=Object(p.useState)(""),[je,Oe]=Object(p.useState)([]),[$e,Ce]=Object(p.useState)(""),[Se,xe]=Object(p.useState)(!1),[we,De]=Object(p.useState)(""),[Ae]=Object(p.useState)([]),Te=Object(p.useRef)(""),Me=Object(p.useRef)(""),Le=Object(p.useRef)(""),Ne=Object(p.useRef)(""),Pe=Object(p.useRef)(""),_e=Object(p.useRef)(""),Be=Object(p.useRef)(""),Re=Object(p.useRef)(""),Ie=Object(p.useRef)(""),ke=Object(p.useRef)(""),Je=Object(p.useRef)(""),Fe=Object(p.useRef)("");o.extend(u.a),o.extend(d.a);const Ye=Object(g.h)(),{lang:Ue,setIsUpdate:He,setLoading:ze}=Object(p.useContext)(h.a),{data:Ve}=Object(x.a)(C.a.getGlobalSetting),We=Object(p.useMemo)((()=>{const t=new Date;t.setDate(t.getDate()-ce);let n=null===e||void 0===e?void 0:e.map((e=>{const t=new Date(null===e||void 0===e?void 0:e.updatedAt).toLocaleString("en-US",{timeZone:null===Ve||void 0===Ve?void 0:Ve.default_time_zone});return{...e,updatedDate:"Invalid Date"===t?"":t}}));if("/dashboard"===Ye.pathname){var s,i,c,u,d,p;const e=null===(s=n)||void 0===s?void 0:s.filter((e=>"Pending"===e.status));K(e);const t=null===(i=n)||void 0===i?void 0:i.filter((e=>"Processing"===e.status));te(t);const a=null===(c=n)||void 0===c?void 0:c.filter((e=>"Delivered"===e.status));ne(a);const r=null===(u=n)||void 0===u?void 0:u.filter((e=>o(e.createdAt).isToday())),l=null===r||void 0===r?void 0:r.reduce(((e,t)=>e+t.total),0);he(l);const g=null===(d=n)||void 0===d?void 0:d.filter((e=>o(e.createdAt).isBetween((new Date).setDate((new Date).getDate()-30),new Date))),m=null===g||void 0===g?void 0:g.reduce(((e,t)=>e+t.total),0);be(m);const h=null===(p=n)||void 0===p?void 0:p.reduce(((e,t)=>e+t.total),0);fe(h)}var g;(a&&(n=n.filter((e=>e.parent===a))),"Low"===r&&(n=n.sort(((e,t)=>e.price<t.price&&-1))),"High"===r&&(n=n.sort(((e,t)=>e.price>t.price&&-1))),l&&(n=n.filter((e=>{var t;return null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase())}))),F&&(console.log("asss"),n=n.filter((e=>{var t,a,n;return(null===e||void 0===e||null===(t=e.title[Ue])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===F||void 0===F?void 0:F.toLowerCase()))||(null===e||void 0===e||null===(n=e.attribute)||void 0===n?void 0:n.toLowerCase().includes(null===F||void 0===F?void 0:F.toLowerCase()))}))),k&&(n=n.filter((e=>{var t,a,n;return(null===e||void 0===e||null===(t=e.name[Ue])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===k||void 0===k?void 0:k.toLowerCase()))||(null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(null===k||void 0===k?void 0:k.toLowerCase()))}))),ie&&(n=n.filter((e=>e.role===ie))),N&&(n=n.filter((e=>{var t,a,n;return(null===e||void 0===e||null===(t=e.name[Ue])||void 0===t?void 0:t.toLowerCase().includes(N.toLowerCase()))||(null===e||void 0===e||null===(a=e.phone)||void 0===a?void 0:a.toLowerCase().includes(N.toLowerCase()))||(null===e||void 0===e||null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(N.toLowerCase()))}))),_)&&(n=null===(g=n)||void 0===g?void 0:g.filter((e=>{var t,a,n;return(null===e||void 0===e||null===(t=e.title[Ue])||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes(null===_||void 0===_?void 0:_.toLowerCase()))||(null===e||void 0===e||null===(n=e.couponCode)||void 0===n?void 0:n.toLowerCase().includes(null===_||void 0===_?void 0:_.toLowerCase()))})));return se&&(n=n.filter((e=>e.status===se))),R&&(n=n.filter((e=>e.contact.toLowerCase().includes(R.toLowerCase())))),ce&&(n=n.filter((e=>o(e.createdAt).isBetween(t,new Date)))),z&&(n=n.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(z.toLowerCase()))||(null===e||void 0===e||null===(a=e.iso_code)||void 0===a?void 0:a.toLowerCase().includes(z.toLowerCase()))}))),we&&(n=n.filter((e=>null===e||void 0===e?void 0:e.name.toLowerCase().includes(we.toLowerCase())))),E&&(n=n.filter((e=>e.name.toLowerCase().includes(E.toLowerCase())||e.iso_code.toLowerCase().includes(E.toLowerCase())||e.language_code.toLowerCase().includes(E.toLowerCase())))),G&&(n=n.filter((e=>e.iso_code.toLowerCase().includes(G.toLowerCase())))),n}),[ce,e,Ye.pathname,a,r,l,F,k,ie,N,_,se,R,z,we,E,G,null===Ve||void 0===Ve?void 0:Ve.default_time_zone,Ue]),qe=null===We||void 0===We?void 0:We.length;Object(p.useEffect)((()=>{ge(null===We||void 0===We?void 0:We.slice(20*(le-1),20*le))}),[We,le,20]);return{userRef:Le,searchRef:Me,couponRef:Ne,orderRef:Pe,categoryRef:_e,attributeRef:Be,pending:X,processing:ee,delivered:ae,todayOrder:me,monthlyOrder:ye,totalOrder:ve,setFilter:n,setSortedField:c,setStatus:re,setRole:oe,time:ce,setTime:ue,handleChangePage:e=>{de(e)},totalResults:qe,resultsPerPage:20,dataTable:pe,serviceData:We,handleSubmitUser:e=>{e.preventDefault(),P(Le.current.value)},handleSubmitForAll:e=>{e.preventDefault(),L(Me.current.value)},handleSubmitCoupon:e=>{e.preventDefault(),B(Ne.current.value)},handleSubmitOrder:e=>{e.preventDefault(),I(Pe.current.value)},handleSubmitBrands:e=>{e.preventDefault(),H(Re.current.value)},handleSubmitAttribute:e=>{e.preventDefault(),Y(Be.current.value)},handleOnDrop:e=>{for(let t=0;t<e.length;t++)Ae.push(e[t].data)},handleUploadProducts:()=>{Ae.length<1?Object(S.b)("Please upload/select csv file first!"):$.a.addAllProducts(Ae).then((e=>{Object(S.c)(e.message)})).catch((e=>Object(S.b)(e.message)))},countryRef:Ie,country:z,setCountry:V,zone:W,setZone:q,handleSubmitCountry:e=>{e.preventDefault(),V(Ie.current.value)},languageRef:ke,handleSubmitLanguage:e=>{e.preventDefault(),Z(ke.current.value)},handleSelectFile:e=>{var t;e.preventDefault();const a=new FileReader,n=null===(t=e.target)||void 0===t?void 0:t.files[0];if(n&&"application/json"===n.type)Ce(null===n||void 0===n?void 0:n.name),xe(!0),a.readAsText(n,"UTF-8"),a.onload=e=>{let t=JSON.parse(e.target.result),a=[];"/categories"===Ye.pathname&&(a=t.map((e=>({_id:e._id,id:e.id,status:e.status,name:e.name,description:e.description,parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===Ye.pathname&&(a=t.map((e=>({_id:e._id,status:e.status,title:e.title,name:e.name,variants:e.variants,option:e.option,type:e.type})))),"/coupons"===Ye.pathname&&(a=t.map((e=>({title:e.title,couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,discountType:e.discountType,status:e.status})))),"/customers"===Ye.pathname&&(a=t.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Oe(a)};else if(n&&"text/csv"===n.type)Ce(null===n||void 0===n?void 0:n.name),xe(!0),a.onload=async e=>{const t=e.target.result,a=await i()().fromString(t);console.log("json",a);let n=[];"/categories"===Ye.pathname&&(n=a.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===Ye.pathname&&(n=a.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===Ye.pathname&&(n=a.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage?JSON.parse(e.discountPercentage):0,minimumAmount:e.minimumAmount?JSON.parse(e.minimumAmount):0,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===Ye.pathname&&(n=a.map((e=>({name:e.name,email:e.email,password:e.password,phone:e.phone})))),Oe(n)},a.readAsText(n);else{Ce(null===n||void 0===n?void 0:n.name),xe(!0);const e=!!a.readAsBinaryString;a.onload=function(t){const a=t.target.result,n=m.a(a,{type:e?"binary":"array",bookVBA:!0}),s=n.SheetNames[0],r=n.Sheets[s],i=m.b.sheet_to_json(r);let o=[];"/categories"===Ye.pathname&&(o=i.map((e=>({_id:e._id,id:e.id,status:e.status,name:JSON.parse(e.name),description:JSON.parse(e.description),parentName:e.parentName,parentId:e.parentId,icon:e.icon})))),"/attributes"===Ye.pathname&&(o=i.map((e=>({status:e.status,title:JSON.parse(e.title),name:JSON.parse(e.name),variants:JSON.parse(e.variants),option:e.option,type:e.type})))),"/coupons"===Ye.pathname&&(o=i.map((e=>({title:JSON.parse(e.title),couponCode:e.couponCode,endTime:e.endTime,discountPercentage:e.discountPercentage,minimumAmount:e.minimumAmount,productType:e.productType,logo:e.logo,status:e.status})))),"/customers"===Ye.pathname&&(o=i.map((e=>({name:e.name,email:e.email,password:e.password?e.password:"null",phone:e.phone?e.phone:"null"})))),Oe(o)},e?a.readAsBinaryString(n):a.readAsArrayBuffer(n)}},handleUploadMultiple:e=>{if(je.length>1){if("/categories"===Ye.pathname){ze(!0);const e=e=>!0===e;je.map((e=>t.validate(w,e))).every(e)?b.a.addAllCategory(je).then((e=>{ze(!1),He(!0),Object(S.c)(e.message)})).catch((e=>{ze(!1),Object(S.b)(e?e.response.data.message:e.message)})):Object(S.b)("Please enter valid data!")}if("/customers"===Ye.pathname){ze(!0);let e=je.map((e=>t.validate(M,e)));const a=e=>!0===e,n=e.every(a);console.log(n),console.log(e),n?j.a.addAllCustomers(je).then((e=>{ze(!1),He(!0),Object(S.c)(e.message)})).catch((e=>{ze(!1),Object(S.b)(e?e.response.data.message:e.message)})):Object(S.b)("Please enter valid data!")}if("/coupons"===Ye.pathname){ze(!0);const e=e=>!0===e;je.map((e=>t.validate(T,e))).every(e)?v.a.addAllCoupon(je).then((e=>{ze(!1),He(!0),Object(S.c)(e.message)})).catch((e=>{ze(!1),Object(S.b)(e?e.response.data.message:e.message)})):Object(S.b)("Please enter valid data!")}if("/attributes"===Ye.pathname){ze(!0);const e=e=>!0===e;je.map((e=>t.validate(D,e))).every(e)?y.a.addAllAttributes(je).then((e=>{ze(!1),He(!0),Object(S.c)(e.message)})).catch((e=>{ze(!1),Object(S.b)(e?e.response.data.message:e.message)})):Object(S.b)("Please enter valid data!")}if("/brands"===Ye.pathname){ze(!0);const e=e=>!0===e;je.map((e=>t.validate(A,e))).every(e)||Object(S.b)("Please enter valid data!")}"/languages"===Ye.pathname&&O.a.addAllLanguage(je).then((e=>{He(!0),Object(S.c)(e.message)})).catch((e=>Object(S.b)(e?e.response.data.message:e.message))),"/currencies"===Ye.pathname&&f.a.addAllCurrency(je).then((e=>{He(!0),Object(S.c)(e.message)})).catch((e=>Object(S.b)(e?e.response.data.message:e.message)))}else Object(S.b)("Please select a valid .JSON/.CSV/.XLS file first!")},filename:$e,isDisabled:Se,handleRemoveSelectFile:e=>{Ce(""),Oe([]),setTimeout((()=>xe(!1)),1e3)},taxRef:Je,currencyRef:Te,handleSubmitCurrency:e=>{e.preventDefault(),Q(Te.current.value)},handleSubmitShipping:e=>{e.preventDefault(),De(Fe.current.value)},shippingRef:Fe,globalSetting:Ve}}},216:function(e,t,a){e.exports=function(){"use strict";return function(e,t,a){t.prototype.isBetween=function(e,t,n,s){var r=a(e),i=a(t),o="("===(s=s||"()")[0],c=")"===s[1];return(o?this.isAfter(r,n):!this.isBefore(r,n))&&(c?this.isBefore(i,n):!this.isAfter(i,n))||(o?this.isBefore(r,n):!this.isAfter(r,n))&&(c?this.isAfter(i,n):!this.isBefore(i,n))}}}()},217:function(e,t,a){e.exports=function(){"use strict";return function(e,t,a){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=a();return this.format(e)===t.format(e)}}}()},692:function(e,t,a){"use strict";var n=a(99);const s={getAllOrders:async e=>{let{body:t,headers:a,customerName:s,status:r,page:i=1,limit:o=8,day:c,startDate:u,endDate:l}=e;const d=null!==s?s:"",p=null!==r?r:"",g=null!==c?c:"",m=null!==u?u:"",h=null!==l?l:"";return n.a.get(`/orders?customerName=${d}&status=${p}&day=${g}&page=${i}&limit=${o}&startDate=${m}&endDate=${h}`,t,a)},getAllOrderList:async e=>{let{page:t,limit:a}=e;return n.a.post(`/order/list?page=${t}&pageSize=${a}`)},getAllOrdersTwo:async e=>{let{invoice:t,body:a,headers:s}=e;const r=null!==t?t:"";return n.a.get(`/orders/all?invoice=${r}`,a,s)},getRecentOrders:async e=>{let{page:t=1,limit:a=8,startDate:s="1:00",endDate:r="23:59"}=e;return n.a.get(`/orders/recent?page=${t}&limit=${a}&startDate=${s}&endDate=${r}`)},getOrderCustomer:async(e,t)=>n.a.get(`/orders/customer/${e}`,t),getOrderById:async e=>n.a.get(`/order/${e}/data`),updateOrder:async e=>n.a.post("/order/update-status",e),deleteOrder:async e=>n.a.delete(`/orders/${e}`),getDashboardOrdersData:async e=>{let{page:t=1,limit:a=8,endDate:s="23:59"}=e;return n.a.get(`/orders/dashboard?page=${t}&limit=${a}&endDate=${s}`)},getDashboardAmount:async()=>n.a.get("/orders/dashboard-amount"),getDashboardCount:async()=>n.a.get("/orders/dashboard-count"),getDashboardRecentOrder:async e=>{let{page:t=1,limit:a=8}=e;return n.a.get(`/orders/dashboard-recent-order?page=${t}&limit=${a}`)},getBestSellerProductChart:async()=>n.a.get("/orders/best-seller/chart")};t.a=s},693:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(160);const s=(e,t)=>n(e).format(t)},697:function(e,t,a){"use strict";var n=a(40),s=a(3);t.a=e=>{let{status:t}=e;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("span",{className:"font-serif",children:[("Pending"===t||"Inactive"===t)&&Object(s.jsx)(n.Badge,{type:"warning",children:t}),"Waiting for Password Reset"===t&&Object(s.jsx)(n.Badge,{type:"warning",children:t}),"Processing"===t&&Object(s.jsx)(n.Badge,{children:t}),("Delivered"===t||"Active"===t)&&Object(s.jsx)(n.Badge,{type:"success",children:t}),"Cancel"===t&&Object(s.jsx)(n.Badge,{type:"danger",children:t}),"POS-Completed"===t&&Object(s.jsx)(n.Badge,{className:"dark:bg-teal-900 bg-teal-100",children:t})]})})}},698:function(e,t,a){"use strict";a(0);var n=a(701),s=a.n(n),r=a(3);t.a=e=>{let{loading:t}=e;return Object(r.jsx)("div",{className:"text-lg text-center py-6",children:Object(r.jsx)(s.a,{color:"#34D399",loading:t,height:25,width:3,radius:3,margin:4})})}},726:function(e,t,a){"use strict";var n=a(0),s=a(40),r=a(692),i=a(42),o=a(41),c=a(3);t.a=e=>{let{id:t,order:a}=e;const{setIsUpdate:u}=Object(n.useContext)(o.a);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(s.Select,{onChange:e=>((e,t)=>{let a={id:e,status:t};r.a.updateOrder(a).then((e=>{Object(i.c)(e.message),u(!0)})).catch((e=>Object(i.b)(e.message)))})(t,e.target.value),className:"border border-gray-50 bg-gray-50 dark:border-gray-700 h-8 rounded-md text-xs focus:border-gray-400 focus:outline-none",children:[Object(c.jsx)("option",{value:"status",defaultValue:!0,hidden:!0,children:null===a||void 0===a?void 0:a.status}),Object(c.jsx)("option",{defaultValue:"Delivered"===(null===a||void 0===a?void 0:a.status),value:"Delivered",children:"Delivered"}),Object(c.jsx)("option",{defaultValue:"Pending"===(null===a||void 0===a?void 0:a.status),value:"Pending",children:"Pending"}),Object(c.jsx)("option",{defaultValue:"Processing"===(null===a||void 0===a?void 0:a.status),value:"Processing",children:"Processing"}),Object(c.jsx)("option",{defaultValue:"Cancel"===(null===a||void 0===a?void 0:a.status),value:"Cancel",children:"Cancel"})]})})}},99:function(e,t,a){"use strict";var n=a(143),s=a.n(n),r=a(18),i=a.n(r);const o=s.a.create({baseURL:"https://backend.kingsmankids.com/api",timeout:5e4,headers:{Accept:"application/json","Content-Type":"application/json"}});o.interceptors.request.use((function(e){let t,a;return i.a.get("adminInfo")&&(t=JSON.parse(i.a.get("adminInfo"))),i.a.get("company")&&(a=i.a.get("company")),{...e,headers:{authorization:t?`Bearer ${t.token}`:null,company:a||null}}}));const c=e=>e.data,u={get:(e,t,a)=>o.get(e,t,a).then(c),post:(e,t)=>o.post(e,t).then(c),put:(e,t,a)=>o.put(e,t,a).then(c),patch:(e,t)=>o.patch(e,t).then(c),delete:(e,t)=>o.delete(e,t).then(c)};t.a=u}}]);
//# sourceMappingURL=29.ba0c3558.chunk.js.map